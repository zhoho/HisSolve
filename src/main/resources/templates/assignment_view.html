<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title th:text="${assignment.title}">Assignment Details</title>
</head>
<body>
<h1 th:text="${assignment.title}">Assignment Title</h1>
<p th:text="${assignment.description}">Assignment Description</p>

<div th:if="${user.role == 'STUDENT'}">
  <h2>Submit Your Solution</h2>
  <form id="submitForm">
    <input type="hidden" id="assignmentId" th:value="${assignment.id}" />
    <div>
      <label for="language">Language:</label>
      <select id="language" name="language">
        <option value="python">Python</option>
        <option value="java">Java</option>
        <!-- 필요한 다른 언어 추가 -->
      </select>
    </div>
    <div>
      <button type="button" onclick="openEditor()">Submit</button>
    </div>
  </form>
</div>

<div th:if="${user.role == 'PROFESSOR'}">
  <h2>Submissions</h2>
  <ul>
    <li th:each="submission : ${submissions}">
      <p th:text="${submission.student.username} + ': ' + ${submission.result}"></p>
    </li>
  </ul>
</div>

<script>
  function openEditor() {
    const assignmentId = document.getElementById('assignmentId').value;
    const language = document.getElementById('language').value;
    const url = `/index?assignmentId=${assignmentId}&language=${language}`;
    window.location.href = url;
  }
</script>
</body>
</html>
